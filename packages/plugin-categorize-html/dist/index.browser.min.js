var jsPsychCategorizeHtml=function(a){"use strict";var c="2.1.0";const p={name:"categorize-html",version:c,parameters:{stimulus:{type:a.ParameterType.HTML_STRING,default:void 0},key_answer:{type:a.ParameterType.KEY,default:void 0},choices:{type:a.ParameterType.KEYS,default:"ALL_KEYS"},text_answer:{type:a.ParameterType.HTML_STRING,default:null},correct_text:{type:a.ParameterType.HTML_STRING,default:"<p class='feedback'>Correct</p>"},incorrect_text:{type:a.ParameterType.HTML_STRING,default:"<p class='feedback'>Incorrect</p>"},prompt:{type:a.ParameterType.HTML_STRING,default:null},force_correct_button_press:{type:a.ParameterType.BOOL,default:!1},show_stim_with_feedback:{type:a.ParameterType.BOOL,default:!1},show_feedback_on_timeout:{type:a.ParameterType.BOOL,default:!1},timeout_message:{type:a.ParameterType.HTML_STRING,default:"<p>Please respond faster.</p>"},stimulus_duration:{type:a.ParameterType.INT,default:null},trial_duration:{type:a.ParameterType.INT,default:null},feedback_duration:{type:a.ParameterType.INT,default:2e3}},data:{stimulus:{type:a.ParameterType.STRING},response:{type:a.ParameterType.STRING},rt:{type:a.ParameterType.INT},correct:{type:a.ParameterType.BOOL}},citations:{apa:"de Leeuw, J. R., Gilbert, R. A., & Luchterhandt, B. (2023). jsPsych: Enabling an Open-Source Collaborative Ecosystem of Behavioral Experiments. Journal of Open Source Software, 8(85), 5351. https://doi.org/10.21105/joss.05351 ",bibtex:'@article{Leeuw2023jsPsych, 	author = {de Leeuw, Joshua R. and Gilbert, Rebecca A. and Luchterhandt, Bj{\\" o}rn}, 	journal = {Journal of Open Source Software}, 	doi = {10.21105/joss.05351}, 	issn = {2475-9066}, 	number = {85}, 	year = {2023}, 	month = {may 11}, 	pages = {5351}, 	publisher = {Open Journals}, 	title = {jsPsych: Enabling an {Open}-{Source} {Collaborative} {Ecosystem} of {Behavioral} {Experiments}}, 	url = {https://joss.theoj.org/papers/10.21105/joss.05351}, 	volume = {8}, }  '}};class n{constructor(t){this.jsPsych=t}trial(t,e){t.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+e.stimulus+"</div>",e.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{t.querySelector("#jspsych-categorize-html-stimulus").style.visibility="hidden"},e.stimulus_duration),e.prompt!==null&&(t.innerHTML+=e.prompt);var s={};const r=l=>{this.jsPsych.pluginAPI.cancelAllKeyboardResponses();var o=!1;this.jsPsych.pluginAPI.compareKeys(e.key_answer,l.key)&&(o=!0),s={rt:l.rt,correct:o,stimulus:e.stimulus,response:l.key};var u=l.rt==null;m(o,u)};this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:r,valid_responses:e.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),e.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{r({key:null,rt:null})},e.trial_duration);const i=()=>{this.jsPsych.finishTrial(s)},m=(l,o)=>{if(o&&!e.show_feedback_on_timeout)t.innerHTML+=e.timeout_message;else{e.show_stim_with_feedback&&(t.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+e.stimulus+"</div>");var u="";l?u=e.correct_text.replace("%ANS%",e.text_answer):u=e.incorrect_text.replace("%ANS%",e.text_answer),t.innerHTML+=u}if(e.force_correct_button_press&&l===!1&&(o&&e.show_feedback_on_timeout||!o)){var y=d=>{i()};this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:y,valid_responses:[e.key_answer],rt_method:"performance",persist:!1,allow_held_key:!1})}else this.jsPsych.pluginAPI.setTimeout(i,e.feedback_duration)}}simulate(t,e,s,r){e=="data-only"&&(r(),this.simulate_data_only(t,s)),e=="visual"&&this.simulate_visual(t,s,r)}create_simulation_data(t,e){const s=this.jsPsych.pluginAPI.getValidKey(t.choices),r={stimulus:t.stimulus,response:s,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),correct:s==t.key_answer},i=this.jsPsych.pluginAPI.mergeSimulationData(r,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,i),i}simulate_data_only(t,e){const s=this.create_simulation_data(t,e);this.jsPsych.finishTrial(s)}simulate_visual(t,e,s){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t),s(),r.rt!==null&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt),t.force_correct_button_press&&!r.correct&&this.jsPsych.pluginAPI.pressKey(t.key_answer,r.rt+t.feedback_duration/2)}}return n.info=p,n}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
