var jsPsychCanvasSliderResponse=function(a){"use strict";var c="2.1.0";const y={name:"canvas-slider-response",version:c,parameters:{stimulus:{type:a.ParameterType.FUNCTION,default:void 0},min:{type:a.ParameterType.INT,default:0},max:{type:a.ParameterType.INT,default:100},slider_start:{type:a.ParameterType.INT,default:50},step:{type:a.ParameterType.INT,default:1},labels:{type:a.ParameterType.HTML_STRING,default:[],array:!0},slider_width:{type:a.ParameterType.INT,default:null},button_label:{type:a.ParameterType.STRING,default:"Continue",array:!1},require_movement:{type:a.ParameterType.BOOL,default:!1},prompt:{type:a.ParameterType.HTML_STRING,default:null},stimulus_duration:{type:a.ParameterType.INT,default:null},trial_duration:{type:a.ParameterType.INT,default:null},response_ends_trial:{type:a.ParameterType.BOOL,default:!0},canvas_size:{type:a.ParameterType.INT,array:!0,default:[500,500]}},data:{rt:{type:a.ParameterType.INT},response:{type:a.ParameterType.STRING}},citations:{apa:"de Leeuw, J. R., Gilbert, R. A., & Luchterhandt, B. (2023). jsPsych: Enabling an Open-Source Collaborative Ecosystem of Behavioral Experiments. Journal of Open Source Software, 8(85), 5351. https://doi.org/10.21105/joss.05351 ",bibtex:'@article{Leeuw2023jsPsych, 	author = {de Leeuw, Joshua R. and Gilbert, Rebecca A. and Luchterhandt, Bj{\\" o}rn}, 	journal = {Journal of Open Source Software}, 	doi = {10.21105/joss.05351}, 	issn = {2475-9066}, 	number = {85}, 	year = {2023}, 	month = {may 11}, 	pages = {5351}, 	publisher = {Open Journals}, 	title = {jsPsych: Enabling an {Open}-{Source} {Collaborative} {Ecosystem} of {Behavioral} {Experiments}}, 	url = {https://joss.theoj.org/papers/10.21105/joss.05351}, 	volume = {8}, }  '}};class u{constructor(t){this.jsPsych=t}trial(t,e){var s='<div id="jspsych-canvas-slider-response-wrapper" style="margin: 100px 0px;">';s+='<div id="jspsych-canvas-slider-response-stimulus"><canvas id="jspsych-canvas-stimulus" height="'+e.canvas_size[0]+'" width="'+e.canvas_size[1]+'"></canvas></div>',s+='<div class="jspsych-canvas-slider-response-container" style="position:relative; margin: 0 auto 3em auto; width:',e.slider_width!==null?s+=e.slider_width+"px;":s+=e.canvas_size[1]+"px;",s+='">',s+='<input type="range" class="jspsych-slider" value="'+e.slider_start+'" min="'+e.min+'" max="'+e.max+'" step="'+e.step+'" style="width: 100%;" id="jspsych-canvas-slider-response-response"></input>',s+="<div>";for(var r=0;r<e.labels.length;r++){var i=100/(e.labels.length-1),l=r*(100/(e.labels.length-1))-i/2;s+='<div style="display: inline-block; position: absolute; left:'+l+"%; text-align: center; width: "+i+'%;">',s+='<span style="text-align: center; font-size: 80%;">'+e.labels[r]+"</span>",s+="</div>"}s+="</div>",s+="</div>",s+="</div>",e.prompt!==null&&(s+=e.prompt),s+='<button id="jspsych-canvas-slider-response-next" class="jspsych-btn" '+(e.require_movement?"disabled":"")+">"+e.button_label+"</button>",t.innerHTML=s;let p=document.getElementById("jspsych-canvas-stimulus");p.style.display="block",e.stimulus(p);var o={rt:null,response:null};const d=()=>{var n={rt:o.rt,response:o.response,slider_start:e.slider_start};this.jsPsych.finishTrial(n)};if(e.require_movement){const n=()=>{t.querySelector("#jspsych-canvas-slider-response-next").disabled=!1};t.querySelector("#jspsych-canvas-slider-response-response").addEventListener("mousedown",n),t.querySelector("#jspsych-canvas-slider-response-response").addEventListener("touchstart",n),t.querySelector("#jspsych-canvas-slider-response-response").addEventListener("change",n)}t.querySelector("#jspsych-canvas-slider-response-next").addEventListener("click",()=>{var n=performance.now();o.rt=Math.round(n-m),o.response=t.querySelector("#jspsych-canvas-slider-response-response").valueAsNumber,e.response_ends_trial?d():t.querySelector("#jspsych-canvas-slider-response-next").disabled=!0}),e.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{t.querySelector("#jspsych-canvas-slider-response-stimulus").style.visibility="hidden"},e.stimulus_duration),e.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(d,e.trial_duration);var m=performance.now()}simulate(t,e,s,r){e=="data-only"&&(r(),this.simulate_data_only(t,s)),e=="visual"&&this.simulate_visual(t,s,r)}create_simulation_data(t,e){const s={response:this.jsPsych.randomization.randomInt(t.min,t.max),rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0)},r=this.jsPsych.pluginAPI.mergeSimulationData(s,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,e){const s=this.create_simulation_data(t,e);this.jsPsych.finishTrial(s)}simulate_visual(t,e,s){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();if(this.trial(i,t),s(),r.rt!==null){const l=i.querySelector("input[type='range']");setTimeout(()=>{this.jsPsych.pluginAPI.clickTarget(l),l.valueAsNumber=r.response},r.rt/2),this.jsPsych.pluginAPI.clickTarget(i.querySelector("button"),r.rt)}}}return u.info=y,u}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
