var jsPsychSameDifferentHtml=function(i){"use strict";var p="2.1.0";const d={name:"same-different-html",version:p,parameters:{stimuli:{type:i.ParameterType.HTML_STRING,default:void 0,array:!0},answer:{type:i.ParameterType.SELECT,options:["same","different"],default:void 0},same_key:{type:i.ParameterType.KEY,default:"q"},different_key:{type:i.ParameterType.KEY,default:"p"},first_stim_duration:{type:i.ParameterType.INT,default:1e3},gap_duration:{type:i.ParameterType.INT,default:500},second_stim_duration:{type:i.ParameterType.INT,pretty_name:"Second stimulus duration",default:1e3},prompt:{type:i.ParameterType.HTML_STRING,default:null}},data:{stimulus:{type:i.ParameterType.HTML_STRING,array:!0},response:{type:i.ParameterType.STRING},rt:{type:i.ParameterType.INT},correct:{type:i.ParameterType.BOOL},answer:{type:i.ParameterType.STRING}},citations:{apa:"de Leeuw, J. R., Gilbert, R. A., & Luchterhandt, B. (2023). jsPsych: Enabling an Open-Source Collaborative Ecosystem of Behavioral Experiments. Journal of Open Source Software, 8(85), 5351. https://doi.org/10.21105/joss.05351 ",bibtex:'@article{Leeuw2023jsPsych, 	author = {de Leeuw, Joshua R. and Gilbert, Rebecca A. and Luchterhandt, Bj{\\" o}rn}, 	journal = {Journal of Open Source Software}, 	doi = {10.21105/joss.05351}, 	issn = {2475-9066}, 	number = {85}, 	year = {2023}, 	month = {may 11}, 	pages = {5351}, 	publisher = {Open Journals}, 	title = {jsPsych: Enabling an {Open}-{Source} {Collaborative} {Ecosystem} of {Behavioral} {Experiments}}, 	url = {https://joss.theoj.org/papers/10.21105/joss.05351}, 	volume = {8}, }  '}};class y{constructor(e){this.jsPsych=e}trial(e,t){e.innerHTML='<div class="jspsych-same-different-stimulus">'+t.stimuli[0]+"</div>";var s;if(t.first_stim_duration>0)this.jsPsych.pluginAPI.setTimeout(()=>{a()},t.first_stim_duration);else{const n=l=>{s=l,a()};this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:"ALL_KEYS",rt_method:"performance",persist:!1,allow_held_key:!1})}const a=()=>{e.innerHTML="",this.jsPsych.pluginAPI.setTimeout(r,t.gap_duration)},r=()=>{var n='<div class="jspsych-same-different-stimulus">'+t.stimuli[1]+"</div>";t.prompt!==null&&(n+=t.prompt),e.innerHTML=n,t.second_stim_duration>0&&this.jsPsych.pluginAPI.setTimeout(()=>{e.querySelector(".jspsych-same-different-stimulus").style.visibility="hidden"},t.second_stim_duration);const l=o=>{var u=!1,c=t.same_key,_=t.different_key;this.jsPsych.pluginAPI.compareKeys(o.key,c)&&t.answer=="same"&&(u=!0),this.jsPsych.pluginAPI.compareKeys(o.key,_)&&t.answer=="different"&&(u=!0);var m={rt:o.rt,answer:t.answer,correct:u,stimulus:[t.stimuli[0],t.stimuli[1]],response:o.key};s&&(m.rt_stim1=s.rt,m.response_stim1=s.key),this.jsPsych.finishTrial(m)};this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:l,valid_responses:[t.same_key,t.different_key],rt_method:"performance",persist:!1,allow_held_key:!1})}}simulate(e,t,s,a){t=="data-only"&&(a(),this.simulate_data_only(e,s)),t=="visual"&&this.simulate_visual(e,s,a)}create_simulation_data(e,t){const s=this.jsPsych.pluginAPI.getValidKey([e.same_key,e.different_key]),a={stimuli:e.stimuli,response:s,answer:e.answer,correct:e.answer=="same"?s==e.same_key:s==e.different_key,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0)};e.first_stim_duration==null&&(a.rt_stim1=this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0),a.response_stim1=this.jsPsych.pluginAPI.getValidKey([e.same_key,e.different_key]));const r=this.jsPsych.pluginAPI.mergeSimulationData(a,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const a=this.create_simulation_data(e,t),r=this.jsPsych.getDisplayElement();this.trial(r,e),s(),e.first_stim_duration==null&&this.jsPsych.pluginAPI.pressKey(a.response_stim1,a.rt_stim1),this.jsPsych.pluginAPI.pressKey(a.response,e.first_stim_duration+e.gap_duration+a.rt)}}return y.info=d,y}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
