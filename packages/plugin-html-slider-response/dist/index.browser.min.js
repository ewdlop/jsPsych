var jsPsychHtmlSliderResponse=function(r){"use strict";var m="2.1.0";const y={name:"html-slider-response",version:m,parameters:{stimulus:{type:r.ParameterType.HTML_STRING,default:void 0},min:{type:r.ParameterType.INT,default:0},max:{type:r.ParameterType.INT,default:100},slider_start:{type:r.ParameterType.INT,default:50},step:{type:r.ParameterType.INT,default:1},labels:{type:r.ParameterType.HTML_STRING,default:[],array:!0},slider_width:{type:r.ParameterType.INT,default:null},button_label:{type:r.ParameterType.STRING,default:"Continue",array:!1},require_movement:{type:r.ParameterType.BOOL,default:!1},prompt:{type:r.ParameterType.HTML_STRING,default:null},stimulus_duration:{type:r.ParameterType.INT,default:null},trial_duration:{type:r.ParameterType.INT,default:null},response_ends_trial:{type:r.ParameterType.BOOL,default:!0}},data:{rt:{type:r.ParameterType.INT},response:{type:r.ParameterType.INT},stimulus:{type:r.ParameterType.HTML_STRING},slider_start:{type:r.ParameterType.INT}},citations:{apa:"de Leeuw, J. R., Gilbert, R. A., & Luchterhandt, B. (2023). jsPsych: Enabling an Open-Source Collaborative Ecosystem of Behavioral Experiments. Journal of Open Source Software, 8(85), 5351. https://doi.org/10.21105/joss.05351 ",bibtex:'@article{Leeuw2023jsPsych, 	author = {de Leeuw, Joshua R. and Gilbert, Rebecca A. and Luchterhandt, Bj{\\" o}rn}, 	journal = {Journal of Open Source Software}, 	doi = {10.21105/joss.05351}, 	issn = {2475-9066}, 	number = {85}, 	year = {2023}, 	month = {may 11}, 	pages = {5351}, 	publisher = {Open Journals}, 	title = {jsPsych: Enabling an {Open}-{Source} {Collaborative} {Ecosystem} of {Behavioral} {Experiments}}, 	url = {https://joss.theoj.org/papers/10.21105/joss.05351}, 	volume = {8}, }  '}};class u{constructor(s){this.jsPsych=s}trial(s,e){var a=7.5,t='<div id="jspsych-html-slider-response-wrapper" style="margin: 100px 0px;">';t+='<div id="jspsych-html-slider-response-stimulus">'+e.stimulus+"</div>",t+='<div class="jspsych-html-slider-response-container" style="position:relative; margin: 0 auto 3em auto; ',e.slider_width!==null?t+="width:"+e.slider_width+"px;":t+="width:auto;",t+='">',t+='<input type="range" class="jspsych-slider" value="'+e.slider_start+'" min="'+e.min+'" max="'+e.max+'" step="'+e.step+'" id="jspsych-html-slider-response-response"></input>',t+="<div>";for(var l=0;l<e.labels.length;l++){var n=100/(e.labels.length-1),p=l*(100/(e.labels.length-1)),h=(p-50)/50*100,c=h*a/100;t+='<div style="border: 1px solid transparent; display: inline-block; position: absolute; left:calc('+p+"% - ("+n+"% / 2) - "+c+"px); text-align: center; width: "+n+'%;">',t+='<span style="text-align: center; font-size: 80%;">'+e.labels[l]+"</span>",t+="</div>"}t+="</div>",t+="</div>",t+="</div>",e.prompt!==null&&(t+=e.prompt),t+='<button id="jspsych-html-slider-response-next" class="jspsych-btn" '+(e.require_movement?"disabled":"")+">"+e.button_label+"</button>",s.innerHTML=t;var o={rt:null,response:null};if(e.require_movement){const i=()=>{s.querySelector("#jspsych-html-slider-response-next").disabled=!1};s.querySelector("#jspsych-html-slider-response-response").addEventListener("mousedown",i),s.querySelector("#jspsych-html-slider-response-response").addEventListener("touchstart",i),s.querySelector("#jspsych-html-slider-response-response").addEventListener("change",i)}const d=()=>{var i={rt:o.rt,stimulus:e.stimulus,slider_start:e.slider_start,response:o.response};this.jsPsych.finishTrial(i)};s.querySelector("#jspsych-html-slider-response-next").addEventListener("click",()=>{var i=performance.now();o.rt=Math.round(i-T),o.response=s.querySelector("#jspsych-html-slider-response-response").valueAsNumber,e.response_ends_trial?d():s.querySelector("#jspsych-html-slider-response-next").disabled=!0}),e.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{s.querySelector("#jspsych-html-slider-response-stimulus").style.visibility="hidden"},e.stimulus_duration),e.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(d,e.trial_duration);var T=performance.now()}simulate(s,e,a,t){e=="data-only"&&(t(),this.simulate_data_only(s,a)),e=="visual"&&this.simulate_visual(s,a,t)}create_simulation_data(s,e){const a={stimulus:s.stimulus,slider_start:s.slider_start,response:this.jsPsych.randomization.randomInt(s.min,s.max),rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0)},t=this.jsPsych.pluginAPI.mergeSimulationData(a,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(s,t),t}simulate_data_only(s,e){const a=this.create_simulation_data(s,e);this.jsPsych.finishTrial(a)}simulate_visual(s,e,a){const t=this.create_simulation_data(s,e),l=this.jsPsych.getDisplayElement();if(this.trial(l,s),a(),t.rt!==null){const n=l.querySelector("input[type='range']");setTimeout(()=>{this.jsPsych.pluginAPI.clickTarget(n),n.valueAsNumber=t.response},t.rt/2),this.jsPsych.pluginAPI.clickTarget(l.querySelector("button"),t.rt)}}}return u.info=y,u}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
